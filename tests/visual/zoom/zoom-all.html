<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Zoom-all Test</title>

    <style>
      @import '../reset.css';
      #reference {
        position: absolute;
        top: 160px;
        left: 160px;
        width: 200px;
        height: 200px;
        background-color: rgba(255, 0, 0, 0.5);
        box-shadow: inset 0 0 0 1px black;
      }

      .popper {
        width: 66px;
        height: 66px;
        background-color: rgba(102, 51, 153, 0.5);
        box-shadow: inset 0 0 0 1px black;
      }
    </style>
  </head>
  <body style="zoom: 1.1">
    <div id="reference">Zoom-all</div>
    <div class="popper" id="popper1">top-start</div>
    <div class="popper" id="popper2">bottom-end</div>
    <div class="popper" id="popper3">left-start</div>
    <div class="popper" id="popper4">right-end</div>
    <div class="popper" id="popper5">bottom</div>
    <div class="popper" id="popper6">top</div>
    <div class="popper" id="popper7">left</div>
    <div class="popper" id="popper8">top-end</div>
    <div class="popper" id="popper9">bottom-start</div>
    <div class="popper" id="popper10">left-end</div>
    <div class="popper" id="popper11">right-start</div>
    <div class="popper" id="popper12">right</div>


    <div style="z-index: 999">
      <button onclick="document.body.style.zoom = '1.25'; window.updateAll();">Set Zoom to 1.25</button>
      <button onclick="document.body.style.zoom = '1.1'; window.updateAll();">Set Zoom to 1.1</button>
      <button onclick="document.body.style.zoom = '1.0'; window.updateAll();">Set Zoom to 1.0</button>
      <button onclick="document.body.style.zoom = '0.95'; window.updateAll();">Set Zoom to 0.95</button>
      <button onclick="document.body.style.zoom = '0.75'; window.updateAll();">Set Zoom to 0.75</button>
    </div>

    <script type="module">
      import { createPopper } from '../dist/popper.js';
      const reference = document.querySelector('#reference');
      const popper1 = document.querySelector('#popper1');
      const popper2 = document.querySelector('#popper2');
      const popper3 = document.querySelector('#popper3');
      const popper4 = document.querySelector('#popper4');
      const popper5 = document.querySelector('#popper5');
      const popper6 = document.querySelector('#popper6');
      const popper7 = document.querySelector('#popper7');
      const popper8 = document.querySelector('#popper8');
      const popper9 = document.querySelector('#popper9');
      const popper10 = document.querySelector('#popper10');
      const popper11 = document.querySelector('#popper11');
      const popper12 = document.querySelector('#popper12');

      window.instance = createPopper(reference, popper1, {
        placement: 'top-start',
        modifiers: [{ name: 'computeStyles', options: { gpuAcceleration: false } }]
      });
      window.instance2 = createPopper(reference, popper2, {
        placement: 'bottom-end',
      });
      window.instance3 = createPopper(reference, popper3, {
        placement: 'left-start',
      });
      window.instance4 = createPopper(reference, popper4, {
        placement: 'right-end',
      });
      window.instance5 = createPopper(reference, popper5, {
        placement: 'bottom',
      });
      window.instance6 = createPopper(reference, popper6, {
        placement: 'top',
      });
      window.instance7 = createPopper(reference, popper7, {
        placement: 'left',
      });
      window.instance8 = createPopper(reference, popper8, {
        placement: 'top-end',
      });
      window.instance9 = createPopper(reference, popper9, {
        placement: 'bottom-start',
      });
      window.instance10 = createPopper(reference, popper10, {
        placement: 'left-end',
      });
      window.instance11 = createPopper(reference, popper11, {
        placement: 'right-start',
      });
      window.instance12 = createPopper(reference, popper12, {
        placement: 'right',
      });

      // window.updateAll = () => {
      //   window.instance.update();
      //   window.instance2.update();
      //   window.instance3.update();
      //   window.instance4.update();
      //   window.instance5.update();
      //   window.instance6.update();
      //   window.instance7.update();
      //   window.instance8.update();
      //   window.instance9.update();
      //   window.instance10.update();
      //   window.instance11.update();
      //   window.instance12.update();
      // };
    </script>
  </body>
</html>
